<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:pe="http://primefaces.org/ui/extensions">
      
<h:head>
    <title>Hotel Management</title>
    <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"/>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

	<!-- JQuery -->
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
	<script nomodule="src=https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

    <!-- Custom styles for this template -->
    <h:outputStylesheet name="./css/custom.css"/>
    <h:outputStylesheet name="./css/dashboard.css"/>
    
</h:head>
<h:body>
    
	<ui:include src = "resources/templates/header.xhtml" />

	<div class="container-fluid">
	  <div class="row">
	    <ui:include src = "resources/templates/sidebar.xhtml" />
	    
	    <f:metadata>
		  <f:event type="preRenderView" listener="#{clientController.loadClients()}" />
		</f:metadata>
	
	    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
	      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
	        <!-- <h1 class="h2">Dashboard</h1>
	        <div class="btn-toolbar mb-2 mb-md-0"> 
	         
	        </div>-->
	      </div>
	
	
	      <div class="table-responsive">
	        
	        <div class="container">
	            <div class="row">
				
	                <div class="col-md-3 mb-3">
	                    <div class="card shadow h-100">
	                        <div class="card-body bg-dark text-white py-5">
	                        
		        					<div class="d-flex">Free Rooms
			        					<span class="ms-auto fw-bolder">
			                              #{chambreController.countFree()}
			                             </span>
		                             </div>
		                      
		        					<div class="d-flex">Occupied Rooms
		                        	<span class="ms-auto fw-bolder">
		                                #{chambreController.countOccupied()}
		                             </span>
		                             </div>
		                        </div>
		                        <div class="card-footer text-dark d-flex">
		                            View Details
		                            <span class="ms-auto ">
		                            	<a class="text-success" href="room.xhtml">
		                            	<i class="h4 bi bi-arrow-right-circle-fill"></i>
		                            	</a>
		                            </span>
		                        </div>
		
		                    </div>
		                </div>
		                <div class="col-md-3 mb-3">
		                    <div class="card shadow h-100">
		                        <div class="card-body bg-dark text-white py-5 d-flex">
		                        	Bookings
		                        	<span class="ms-auto fw-bolder">
		                                #{reservationController.count()}
		                             </span>
		                        </div>
	                            <div class="card-footer text-dark d-flex">
	                                View Details
	                                <span class="ms-auto text-sucess">
	                                	<a class="text-success" href="booking.xhtml">
		                            	<i class="h4 bi bi-arrow-right-circle-fill"></i>
		                            	</a>
	                                </span>
	                            </div>
		                    </div>
		                </div>
		
		                <div class="col-md-3 mb-3">
		                    <div class="card shadow  h-100">
		                        <div class="card-body bg-dark text-white py-5 d-flex">
		                        	Customers
		                        	<span class="ms-auto fw-bolder">
		                                #{clientController.count()}
		                             </span>
		                        </div>
		                        <div class="card-footer text-dark d-flex">
		                            View Details
		                            <span class="ms-auto text-success">
		                            	<a class="text-success" href="customer.xhtml">
		                            	<i class="h4 bi bi-arrow-right-circle-fill"></i>
		                            	</a>
		                            </span>
		                        </div>
		                    </div>
		                </div>
		
		                <div class="col-md-3 mb-3">
		                    <div class="card shadow h-100 ">
		                        <div class="card-body bg-dark text-white h-100 py-5 d-flex">
		                        	Users
		                        	<span class="ms-auto fw-bolder">
		                            	#{utilisateurController.count()}
		                            </span>
		                        	
		                        </div>
		                        <div class="card-footer text-dark d-flex">
		                            View Details
		                            <span class="ms-auto">
		                            	<a class="text-success" href="user.xhtml">
		                            	<i class="h4 bi bi-arrow-right-circle-fill"></i>
		                            	</a>
		                            </span>
		                        </div>
		                    </div>
		                </div>
		            </div>
		
	           <!--  <div class="row">
	                <div class="col-md-6 mb-3">
	                    <div class="card h-100">
	                        <div class="card-header">
	                            <span class="me-2"><i class="bi bi-bar-chart-fill"></i></span>
	                            Rooms
	                        </div>
	                        <div class="card-body">
	                            <ui:insert name="content" >
							        <ui:include src="resources/templates/carouselbed.xhtml" />
							    </ui:insert>
	                        </div>
	                    </div>
	                </div>
	                <div class="col-md-6 mb-3">
	                        <div class="card h-100">
	                            <div class="card-header">
	                                <span class="me-2"><i class="bi bi-bar-chart-fill"></i></span>
	                                Hotel Views
	                            </div>
	                            <div class="card-body">
	                               <ui:insert name="content" >
							        	<ui:include src="resources/templates/carousel.xhtml" />
							    	</ui:insert>
	                            </div>
	                        </div>
	                </div>
	            </div> -->
	         
	        <div class="row">
	          <div class="col-md-12 mb-3">
	            <div class="card">
	                <div class="card-header">
	                    <span><i class="bi bi-table me-2"></i></span> Customer
	                </div>
	              <div class="card-body">
	                <h:form>
	                <h:dataTable value="#{clientController.clients}" var="clients" class="table table-striped data-table" >
		
						<h:column>
							<!-- the column header -->
							<f:facet name="header">First Name</f:facet>
		
							<!--  the value for each row -->
							#{clients.fnameClient}
						</h:column>
		
						<h:column>
							<!-- the column header -->
							<f:facet name="header">Last Name</f:facet>
		
							<!--  the value for each row -->
							#{clients.lnameClient}
						</h:column>
		
						<h:column>
							<!-- the column header -->
							<f:facet name="header">Email</f:facet>
		
							<!--  the value for each row -->
							#{clients.emailClient}
						</h:column>
						<h:column>
							<!-- the column header -->
							<f:facet name="header">Phone Number</f:facet>
		
							<!--  the value for each row -->
							#{clients.telClient}
						</h:column>
						<h:column>
							<!-- the column header -->
		
							<!--  the value for each row -->
							<h:commandLink value="" class="text-success" action="#{clientController.loadClient(clients.idClient)}">
                                                            <i class="bi bi-pencil-square"></i>
                                                        </h:commandLink>
						</h:column>
						<h:column>
							<!-- the column header -->
		
							<!--  the value for each row -->
							<h:commandLink value="" class="text-danger" onclick="if (!confirm('Are you sure want to delete this customer?')) return false"
															action="#{clientController.deleteClient(clients.idClient)}">
                                                            <i class="bi bi-trash"></i>
                                                        </h:commandLink>
						</h:column>
						</h:dataTable>
	                  </h:form>
	              </div>
	            </div>
	          </div>
	        </div>
	      </div>
	      </div>
	    </main>
	  </div>
	</div>
</h:body>
</html>
